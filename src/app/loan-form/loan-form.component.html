<div class="logo-wrapper">
  <svg class="logo" viewBox="0 0 600 120" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet">
    <defs>
      <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" stop-color="#00e5ff" />
        <stop offset="50%" stop-color="#00c6ff" />
        <stop offset="100%" stop-color="#0080ff" />
      </linearGradient>
    </defs>
    <g transform="translate(300, 60)">
      <text text-anchor="middle" alignment-baseline="middle" class="loan-text">LoanLen$</text>
    </g>
  </svg>
</div>

<div class="form-wrapper">
  <h1>Loan Eligibility Checker</h1>

  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="form-group">
      <input
        type="number"
        placeholder="Loan Amount (LKR)"
        formControlName="loanAmount"
        #loanAmountInput
        (keydown.enter)="focusNext(interestRateInput)"
      />
    </div>
  
    <div class="form-group">
      <input
        type="number"
        placeholder="Interest Rate (%)"
        formControlName="interestRate"
        #interestRateInput
        (keydown.enter)="focusNext(tenureInput)"
      />
    </div>
  
    <div class="form-group">
      <input
        type="number"
        placeholder="Tenure Duration (Months)"
        formControlName="tenureMonths"
        #tenureInput
        (keydown.enter)="focusNext(monthlyIncomeInput)"
      />
    </div>
  
    <div class="form-group">
      <input
      type="number"
      placeholder="Monthly Income (LKR)"
      formControlName="monthlyIncome"
      #monthlyIncomeInput
      (keydown.enter)="handleLastFieldEnter(submitBtn)"
    />    
    </div>
  
    <button
      type="submit"
      [disabled]="form.invalid"
      #submitBtn
      (keydown.enter)="focusFirstInvalid()"
    >
      Check Eligibility
    </button>
  </form>  
  
  <div class="result-box" *ngIf="result">
    <h2>{{ result.isEligible ? '✅ Eligible' : '❌ Not Eligible' }}</h2>
    <p><strong>EMI:</strong> Rs. {{ result.emi | number: '1.2-2' }}</p>
    <p><strong>EMI Ratio:</strong> {{ result.emiRatio }}%</p>
    <p><strong>Risk Category:</strong> {{ result.riskCategory }}</p>
    <p class="note">* This is a preliminary assessment and not a final loan offer.</p>
  </div>
</div>
